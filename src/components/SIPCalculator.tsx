import { useState } from \"react\";\nimport { motion } from \"framer-motion\";\nimport { Calculator, TrendingUp, IndianRupee } from \"lucide-react\";\nimport { Button } from \"@/components/ui/button\";\nimport { Card } from \"@/components/ui/card\";\n\ninterface SIPCalculatorProps {\n  onClose: () => void;\n}\n\nconst SIPCalculator = ({ onClose }: SIPCalculatorProps) => {\n  const [monthlyAmount, setMonthlyAmount] = useState(5000);\n  const [years, setYears] = useState(10);\n  const [expectedReturn, setExpectedReturn] = useState(12);\n\n  const calculateSIP = () => {\n    const monthlyRate = expectedReturn / 100 / 12;\n    const months = years * 12;\n    const futureValue = monthlyAmount * (((Math.pow(1 + monthlyRate, months) - 1) / monthlyRate) * (1 + monthlyRate));\n    const totalInvested = monthlyAmount * months;\n    const returns = futureValue - totalInvested;\n    \n    return {\n      futureValue: Math.round(futureValue),\n      totalInvested,\n      returns: Math.round(returns)\n    };\n  };\n\n  const result = calculateSIP();\n\n  return (\n    <motion.div\n      className=\"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50\"\n      initial={{ opacity: 0 }}\n      animate={{ opacity: 1 }}\n      exit={{ opacity: 0 }}\n      onClick={onClose}\n    >\n      <motion.div\n        className=\"bg-background rounded-2xl p-6 w-full max-w-md\"\n        initial={{ scale: 0.9, opacity: 0 }}\n        animate={{ scale: 1, opacity: 1 }}\n        exit={{ scale: 0.9, opacity: 0 }}\n        onClick={(e) => e.stopPropagation()}\n      >\n        <div className=\"flex items-center gap-2 mb-6\">\n          <Calculator className=\"w-5 h-5 text-primary\" />\n          <h2 className=\"text-xl font-semibold\">SIP Calculator</h2>\n        </div>\n\n        <div className=\"space-y-4\">\n          <div>\n            <label className=\"text-sm font-medium text-muted-foreground\">Monthly Investment</label>\n            <div className=\"flex items-center gap-2 mt-1\">\n              <IndianRupee className=\"w-4 h-4 text-muted-foreground\" />\n              <input\n                type=\"number\"\n                value={monthlyAmount}\n                onChange={(e) => setMonthlyAmount(Number(e.target.value))}\n                className=\"flex-1 px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary\"\n                min=\"500\"\n                step=\"500\"\n              />\n            </div>\n          </div>\n\n          <div>\n            <label className=\"text-sm font-medium text-muted-foreground\">Investment Period</label>\n            <div className=\"flex items-center gap-2 mt-1\">\n              <input\n                type=\"number\"\n                value={years}\n                onChange={(e) => setYears(Number(e.target.value))}\n                className=\"flex-1 px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary\"\n                min=\"1\"\n                max=\"30\"\n              />\n              <span className=\"text-sm text-muted-foreground\">years</span>\n            </div>\n          </div>\n\n          <div>\n            <label className=\"text-sm font-medium text-muted-foreground\">Expected Annual Return</label>\n            <div className=\"flex items-center gap-2 mt-1\">\n              <input\n                type=\"number\"\n                value={expectedReturn}\n                onChange={(e) => setExpectedReturn(Number(e.target.value))}\n                className=\"flex-1 px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary\"\n                min=\"1\"\n                max=\"25\"\n                step=\"0.5\"\n              />\n              <span className=\"text-sm text-muted-foreground\">%</span>\n            </div>\n          </div>\n        </div>\n\n        <Card className=\"mt-6 p-4 bg-primary/5\">\n          <div className=\"space-y-3\">\n            <div className=\"flex justify-between items-center\">\n              <span className=\"text-sm text-muted-foreground\">Total Invested</span>\n              <span className=\"font-medium\">₹{result.totalInvested.toLocaleString('en-IN')}</span>\n            </div>\n            <div className=\"flex justify-between items-center\">\n              <span className=\"text-sm text-muted-foreground\">Expected Returns</span>\n              <span className=\"font-medium text-green-600\">₹{result.returns.toLocaleString('en-IN')}</span>\n            </div>\n            <div className=\"border-t pt-3\">\n              <div className=\"flex justify-between items-center\">\n                <span className=\"font-medium\">Future Value</span>\n                <span className=\"text-lg font-bold text-primary\">₹{result.futureValue.toLocaleString('en-IN')}</span>\n              </div>\n            </div>\n          </div>\n        </Card>\n\n        <div className=\"flex gap-3 mt-6\">\n          <Button variant=\"outline\" onClick={onClose} className=\"flex-1\">\n            Close\n          </Button>\n          <Button className=\"flex-1 gap-2\">\n            <TrendingUp className=\"w-4 h-4\" />\n            Start SIP\n          </Button>\n        </div>\n\n        <p className=\"text-xs text-muted-foreground mt-4 text-center\">\n          *This is an estimate. Actual returns may vary based on market conditions.\n        </p>\n      </motion.div>\n    </motion.div>\n  );\n};\n\nexport default SIPCalculator;